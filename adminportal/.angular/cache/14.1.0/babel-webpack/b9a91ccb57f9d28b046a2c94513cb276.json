{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.HorizontalImage = void 0;\n\nconst canvas_1 = require(\"canvas\");\n\nconst BaseClass_1 = require(\"./BaseClass\");\n\nconst canvas_2 = require(\"./utils/canvas\");\n\nclass HorizontalImage extends BaseClass_1.BaseClass {\n  constructor(ultimateTextToImages, options = {}, renderOptions = {}) {\n    super();\n    this.ultimateTextToImages = ultimateTextToImages;\n    this.options = options;\n    this.renderOptions = renderOptions;\n  }\n\n  render() {\n    this._startTimer();\n\n    const {\n      backgroundColor\n    } = this.options;\n    const margin = this.options.margin || 0;\n\n    for (const ultimateTextToImage of this.ultimateTextToImages) {\n      ultimateTextToImage.render();\n    }\n\n    const width = this.ultimateTextToImages.reduce((a, b) => a + b.width, 0) + margin * 2;\n    const height = this.ultimateTextToImages.reduce((a, b) => Math.max(a, b.height), 0) + margin * 2;\n    this._canvas = new canvas_1.Canvas(width, height);\n\n    const ctx = this._canvas.getContext(\"2d\"); // hook\n\n\n    canvas_2.renderHook(this._canvas, this.renderOptions.preRender); // draw background\n\n    canvas_2.drawBackgroundColor(ctx, {\n      color: backgroundColor\n    });\n    let x = margin;\n    let y = 0;\n\n    for (const ultimateTextToImage of this.ultimateTextToImages) {\n      let valign = this.options.valign;\n\n      if (ultimateTextToImage.options.nestedValign) {\n        valign = ultimateTextToImage.options.nestedValign;\n      }\n\n      if (valign === \"bottom\") {\n        y = height - ultimateTextToImage.height - margin;\n      } else if (valign === \"middle\") {\n        y = (height - ultimateTextToImage.height) / 2;\n      } else {\n        y = margin;\n      }\n\n      ctx.drawImage(ultimateTextToImage.canvas, x, y);\n      x += ultimateTextToImage.width;\n    } // hook\n\n\n    canvas_2.renderHook(this._canvas, this.renderOptions.posRender);\n\n    this._endTimer();\n\n    return this;\n  }\n\n}\n\nexports.HorizontalImage = HorizontalImage;","map":{"version":3,"names":["Object","defineProperty","exports","value","HorizontalImage","canvas_1","require","BaseClass_1","canvas_2","BaseClass","constructor","ultimateTextToImages","options","renderOptions","render","_startTimer","backgroundColor","margin","ultimateTextToImage","width","reduce","a","b","height","Math","max","_canvas","Canvas","ctx","getContext","renderHook","preRender","drawBackgroundColor","color","x","y","valign","nestedValign","drawImage","canvas","posRender","_endTimer"],"sources":["/mnt/r/flipkart/product_management/adminportal/node_modules/ultimate-text-to-image/build/HorizontalImage.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.HorizontalImage = void 0;\nconst canvas_1 = require(\"canvas\");\nconst BaseClass_1 = require(\"./BaseClass\");\nconst canvas_2 = require(\"./utils/canvas\");\nclass HorizontalImage extends BaseClass_1.BaseClass {\n    constructor(ultimateTextToImages, options = {}, renderOptions = {}) {\n        super();\n        this.ultimateTextToImages = ultimateTextToImages;\n        this.options = options;\n        this.renderOptions = renderOptions;\n    }\n    render() {\n        this._startTimer();\n        const { backgroundColor } = this.options;\n        const margin = this.options.margin || 0;\n        for (const ultimateTextToImage of this.ultimateTextToImages) {\n            ultimateTextToImage.render();\n        }\n        const width = this.ultimateTextToImages.reduce((a, b) => a + b.width, 0) + margin * 2;\n        const height = this.ultimateTextToImages\n            .reduce((a, b) => Math.max(a, b.height), 0) + margin * 2;\n        this._canvas = new canvas_1.Canvas(width, height);\n        const ctx = this._canvas.getContext(\"2d\");\n        // hook\n        canvas_2.renderHook(this._canvas, this.renderOptions.preRender);\n        // draw background\n        canvas_2.drawBackgroundColor(ctx, { color: backgroundColor });\n        let x = margin;\n        let y = 0;\n        for (const ultimateTextToImage of this.ultimateTextToImages) {\n            let valign = this.options.valign;\n            if (ultimateTextToImage.options.nestedValign) {\n                valign = ultimateTextToImage.options.nestedValign;\n            }\n            if (valign === \"bottom\") {\n                y = height - ultimateTextToImage.height - margin;\n            }\n            else if (valign === \"middle\") {\n                y = (height - ultimateTextToImage.height) / 2;\n            }\n            else {\n                y = margin;\n            }\n            ctx.drawImage(ultimateTextToImage.canvas, x, y);\n            x += ultimateTextToImage.width;\n        }\n        // hook\n        canvas_2.renderHook(this._canvas, this.renderOptions.posRender);\n        this._endTimer();\n        return this;\n    }\n}\nexports.HorizontalImage = HorizontalImage;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}