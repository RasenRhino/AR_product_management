{"ast":null,"code":"\"use strict\";\n\nvar __importDefault = this && this.__importDefault || function (mod) {\n  return mod && mod.__esModule ? mod : {\n    \"default\": mod\n  };\n};\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.BaseClass = void 0;\n\nconst fs_1 = __importDefault(require(\"fs\"));\n\nconst utils_1 = require(\"./utils\");\n\nclass BaseClass {\n  constructor() {\n    this.options = {};\n    this._renderedTime = 0;\n    this._before = [0, 0];\n  }\n\n  get hasRendered() {\n    return !!this._canvas;\n  }\n\n  get canvas() {\n    this._checkHasRendered();\n\n    return this._canvas;\n  }\n\n  get renderedTime() {\n    this._checkHasRendered();\n\n    return this._renderedTime;\n  }\n\n  get width() {\n    this._checkHasRendered();\n\n    return this.canvas.width;\n  }\n\n  get height() {\n    this._checkHasRendered();\n\n    return this.canvas.height;\n  }\n\n  render() {\n    return this;\n  }\n\n  toDataUrl(mineType = \"image/png\", options) {\n    this._checkHasRendered();\n\n    if (mineType === \"image/png\") {\n      return this.canvas.toDataURL(\"image/png\");\n    } else {\n      return this.canvas.toDataURL(\"image/jpeg\", options === null || options === void 0 ? void 0 : options.quality);\n    }\n  }\n\n  toBuffer(mineType = \"image/png\", options) {\n    this._checkHasRendered();\n\n    if (mineType === \"image/png\") {\n      return this.canvas.toBuffer(\"image/png\", options);\n    } else {\n      return this.canvas.toBuffer(\"image/jpeg\", options);\n    }\n  }\n\n  toFile(filename, mineType = \"\", options) {\n    this._checkHasRendered();\n\n    if (!mineType) {\n      if (filename.match(/\\.jpg$|\\.jpeg$/i)) {\n        mineType = \"image/jpeg\";\n      } else {\n        mineType = \"image/png\";\n      }\n    }\n\n    const buffer = this.toBuffer(mineType, options);\n    fs_1.default.writeFileSync(filename, buffer);\n  }\n\n  toStream(mineType = \"image/png\", options) {\n    this._checkHasRendered();\n\n    if (mineType === \"image/png\") {\n      return this.canvas.createPNGStream(options);\n    } else {\n      return this.canvas.createJPEGStream(options);\n    }\n  }\n\n  _checkHasRendered() {\n    if (!this.hasRendered) {\n      throw new Error(`Please run render() first!`);\n    }\n  }\n\n  _startTimer() {\n    this._before = utils_1.hrtime();\n  }\n\n  _endTimer() {\n    const diff = utils_1.hrtime(this._before);\n    this._renderedTime = diff[0] * 1000 + diff[1] / 1000000;\n  }\n\n}\n\nexports.BaseClass = BaseClass;","map":{"version":3,"names":["__importDefault","mod","__esModule","Object","defineProperty","exports","value","BaseClass","fs_1","require","utils_1","constructor","options","_renderedTime","_before","hasRendered","_canvas","canvas","_checkHasRendered","renderedTime","width","height","render","toDataUrl","mineType","toDataURL","quality","toBuffer","toFile","filename","match","buffer","default","writeFileSync","toStream","createPNGStream","createJPEGStream","Error","_startTimer","hrtime","_endTimer","diff"],"sources":["/mnt/r/flipkart/product_management/adminportal/node_modules/ultimate-text-to-image/build/BaseClass.js"],"sourcesContent":["\"use strict\";\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseClass = void 0;\nconst fs_1 = __importDefault(require(\"fs\"));\nconst utils_1 = require(\"./utils\");\nclass BaseClass {\n    constructor() {\n        this.options = {};\n        this._renderedTime = 0;\n        this._before = [0, 0];\n    }\n    get hasRendered() {\n        return !!this._canvas;\n    }\n    get canvas() {\n        this._checkHasRendered();\n        return this._canvas;\n    }\n    get renderedTime() {\n        this._checkHasRendered();\n        return this._renderedTime;\n    }\n    get width() {\n        this._checkHasRendered();\n        return this.canvas.width;\n    }\n    get height() {\n        this._checkHasRendered();\n        return this.canvas.height;\n    }\n    render() {\n        return this;\n    }\n    toDataUrl(mineType = \"image/png\", options) {\n        this._checkHasRendered();\n        if (mineType === \"image/png\") {\n            return this.canvas.toDataURL(\"image/png\");\n        }\n        else {\n            return this.canvas.toDataURL(\"image/jpeg\", options === null || options === void 0 ? void 0 : options.quality);\n        }\n    }\n    toBuffer(mineType = \"image/png\", options) {\n        this._checkHasRendered();\n        if (mineType === \"image/png\") {\n            return this.canvas.toBuffer(\"image/png\", options);\n        }\n        else {\n            return this.canvas.toBuffer(\"image/jpeg\", options);\n        }\n    }\n    toFile(filename, mineType = \"\", options) {\n        this._checkHasRendered();\n        if (!mineType) {\n            if (filename.match(/\\.jpg$|\\.jpeg$/i)) {\n                mineType = \"image/jpeg\";\n            }\n            else {\n                mineType = \"image/png\";\n            }\n        }\n        const buffer = this.toBuffer(mineType, options);\n        fs_1.default.writeFileSync(filename, buffer);\n    }\n    toStream(mineType = \"image/png\", options) {\n        this._checkHasRendered();\n        if (mineType === \"image/png\") {\n            return this.canvas.createPNGStream(options);\n        }\n        else {\n            return this.canvas.createJPEGStream(options);\n        }\n    }\n    _checkHasRendered() {\n        if (!this.hasRendered) {\n            throw new Error(`Please run render() first!`);\n        }\n    }\n    _startTimer() {\n        this._before = utils_1.hrtime();\n    }\n    _endTimer() {\n        const diff = utils_1.hrtime(this._before);\n        this._renderedTime = diff[0] * 1000 + (diff[1] / 1000000);\n    }\n}\nexports.BaseClass = BaseClass;\n"],"mappings":"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"},"metadata":{},"sourceType":"script"}